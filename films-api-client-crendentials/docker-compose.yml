services:
  authorisation-server:
    image: ghcr.io/orbitalapi/demos-films-authorisation-server
    pull_policy: always
    ports:
      - "9000:9000"
  client-crdentials-api:
    image: ghcr.io/orbitalapi/demos-films-api-resource-server
    pull_policy: always
    ports:
      - "8080:8080"
    environment:
      OPTIONS: >-
        --spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://authorisation-server:9000/oauth2/jwks

  public-api:
    image: ghcr.io/orbitalapi/demos-films-data-api-public
    pull_policy: always
    ports:
      - "8081:8081"